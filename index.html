<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anastasia Salter - Professor of English, UCF</title>

    <!-- SEO and Social Media Meta Tags -->
    <meta name="description" content="Anastasia Salter is a Professor of English at the University of Central Florida, specializing in digital humanities, electronic literature, and interactive media.">
    <meta name="author" content="Anastasia Salter">

    <!-- Open Graph Meta Tags (for Facebook, LinkedIn, etc.) -->
    <meta property="og:title" content="Anastasia Salter - Professor of English, UCF">
    <meta property="og:description" content="Professor of English at UCF specializing in digital humanities, electronic literature, and interactive media.">
    <meta property="og:image" content="https://anastasiasalter.net/featured.jpg">
    <meta property="og:url" content="https://anastasiasalter.net/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Anastasia Salter">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Anastasia Salter - Professor of English, UCF">
    <meta name="twitter:description" content="Professor of English at UCF specializing in digital humanities, electronic literature, and interactive media.">
    <meta name="twitter:image" content="https://anastasiasalter.net/featured.jpg">
    <meta name="twitter:site" content="@anasalter">

    <!-- Additional Meta Tags -->
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://anastasiasalter.net/">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Press+Start+2P&family=Audiowide:wght@400&family=Comic+Neue:wght@300;400;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- p5.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>

    <!-- Chaos CSS (shared - overridden inline) -->
    <link rel="stylesheet" href="css/chaos.css">

    <style>
        :root {
            /* EGA 16-color palette mapped to chaos variable names */
            --ega-black: #000000;
            --ega-blue: #0000AA;
            --ega-green: #00AA00;
            --ega-cyan: #00AAAA;
            --ega-red: #AA0000;
            --ega-brown: #AA5500;
            --ega-light-gray: #AAAAAA;
            --ega-dark-gray: #555555;
            --ega-bright-blue: #5555FF;
            --ega-bright-green: #55FF55;
            --ega-bright-cyan: #55FFFF;
            --ega-bright-red: #FF5555;
            --ega-magenta: #FF55FF;
            --ega-yellow: #FFFF55;
            --ega-white: #FFFFFF;

            /* Remap chaos variables to EGA equivalents */
            --burn-orange: #AA5500;
            --acid-lime: #55FF55;
            --rust-brown: #0000AA;
            --slate-grey: #555555;
            --toxic-yellow: #FFFF55;
            --blood-red: #AA0000;
            --moss-green: #00AA00;
            --bruise-purple: #5555FF;
            --tar-black: #000000;
            --bone-white: #FFFFFF;
            --bile-green: #00AA00;
            --clay-red: #AA0000;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
        }

        body {
            font-family: 'Press Start 2P', cursive;
            line-height: 1.6;
            color: var(--ega-white);
            overflow: hidden;
            height: 100vh;
            background: var(--ega-black);
            letter-spacing: 0;
            /* Pixel cursor - crosshair style */
            cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16'%3E%3Cpath d='M7 0h2v6h6v2h-6v6h-2v-6h-2v6h0v-8h-4v-2h4v-4h2z' fill='%2355FFFF'/%3E%3C/svg%3E") 8 8, crosshair;
        }

        a, button {
            cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16'%3E%3Cpath d='M2 2h4v2h2v2h2v-2h2v-2h2v8h-2v2h-2v2h-2v-2h-2v-2h-2v2h-2z' fill='%23FFFF55'/%3E%3C/svg%3E") 8 8, pointer;
        }

        /* Disable custom cursor on touch devices */
        @media (pointer: coarse) {
            body, a, button {
                cursor: auto;
            }
        }

        canvas {
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }

        /* Remove chaotic background - solid black */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: var(--ega-black);
            animation: none;
        }

        /* Adventure Verb Bar Navigation — high specificity to override chaos.css */
        .navbar.adventure-verb-bar,
        nav.navbar.adventure-verb-bar {
            position: fixed !important;
            bottom: 0 !important;
            top: auto !important;
            left: 0 !important;
            right: 0 !important;
            background: var(--ega-dark-gray) !important;
            backdrop-filter: none !important;
            border-top: 4px solid var(--ega-light-gray) !important;
            border-bottom: none !important;
            transition: none !important;
            transform-origin: bottom !important;
            transform: none !important;
            z-index: 1000 !important;
            padding: 4px 0 !important;
            border-radius: 0 !important;
        }

        .navbar.adventure-verb-bar:hover,
        nav.navbar.adventure-verb-bar:hover {
            transform: none !important;
            border-top-width: 4px !important;
        }

        .navbar.adventure-verb-bar .navbar-brand {
            font-family: 'Press Start 2P', cursive !important;
            font-weight: 400 !important;
            font-size: 0.7rem !important;
            color: var(--ega-yellow) !important;
            text-shadow: none !important;
            text-decoration: none !important;
            letter-spacing: 0 !important;
            text-transform: uppercase !important;
            background: none !important;
            padding: 0.25rem 0.5rem !important;
        }

        .navbar.adventure-verb-bar .navbar-brand:hover {
            color: var(--ega-bright-green) !important;
            background: none !important;
            text-shadow: none !important;
            transform: none !important;
            padding: 0.25rem 0.5rem !important;
        }

        .navbar.adventure-verb-bar .nav-link {
            font-family: 'Press Start 2P', cursive !important;
            font-weight: 400 !important;
            color: var(--ega-white) !important;
            position: relative !important;
            transition: background 0.1s, color 0.1s !important;
            margin: 2px !important;
            font-size: 0.55rem !important;
            border: 2px solid var(--ega-light-gray) !important;
            padding: 6px 10px !important;
            text-transform: uppercase !important;
            text-shadow: none !important;
            background: none !important;
            transform: none !important;
            box-shadow: none !important;
            border-radius: 0 !important;
        }

        .navbar.adventure-verb-bar .nav-link:hover {
            background: var(--ega-bright-blue) !important;
            color: var(--ega-yellow) !important;
            transform: none !important;
            box-shadow: none !important;
            text-shadow: none !important;
            border: 2px solid var(--ega-light-gray) !important;
        }

        .navbar.adventure-verb-bar .nav-link.active {
            background: var(--ega-bright-blue) !important;
            color: var(--ega-yellow) !important;
            transform: none !important;
            text-shadow: none !important;
            border: 2px solid var(--ega-light-gray) !important;
        }

        .navbar.adventure-verb-bar .navbar-toggler {
            border-color: var(--ega-light-gray) !important;
        }

        .navbar.adventure-verb-bar .navbar-toggler-icon {
            filter: invert(1) !important;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            padding: 0;
            overflow: hidden;
        }

        .sunset-container {
            width: 100%;
            height: 100vh;
            position: relative;
            z-index: 1;
        }

        .sunset-container canvas {
            pointer-events: none;
        }

        /* Scanline overlay on hero */
        .hero::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(0, 0, 0, 0.15) 2px,
                rgba(0, 0, 0, 0.15) 4px
            );
            pointer-events: none;
            z-index: 50;
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 10;
        }

        /* Status Bar - Sierra style */
        .status-bar {
            width: 100%;
            background: var(--ega-dark-gray);
            border-bottom: 2px solid var(--ega-light-gray);
            padding: 4px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.55rem;
            color: var(--ega-white);
            z-index: 20;
        }

        .status-bar-score {
            color: var(--ega-yellow);
        }

        .status-bar-location {
            color: var(--ega-bright-cyan);
        }

        /* Dialog Box - Sierra adventure style */
        .dialog-box {
            background: var(--ega-blue);
            border: 4px solid var(--ega-white);
            outline: 4px solid var(--ega-blue);
            padding: 24px 32px;
            margin-top: auto;
            margin-bottom: auto;
            max-width: 600px;
            width: 90%;
            text-align: center;
            box-shadow: 8px 8px 0 rgba(0,0,0,0.5);
            position: relative;
        }

        .dialog-box h1 {
            font-family: 'Press Start 2P', cursive;
            font-size: 1.4rem;
            font-weight: 400;
            color: var(--ega-yellow);
            margin-bottom: 12px;
            text-shadow: 2px 2px 0 var(--ega-black);
            animation: none;
            transform: none;
            letter-spacing: 0;
            line-height: 1.6;
        }

        .dialog-box .subtitle {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.65rem;
            color: var(--ega-white);
            margin-bottom: 20px;
            text-shadow: none;
            transform: none;
            letter-spacing: 0;
            line-height: 2;
        }

        /* Verb-style CTA buttons */
        .verb-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            margin-top: 16px;
        }

        .btn-verb {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.5rem;
            background: var(--ega-dark-gray);
            border: 2px solid var(--ega-light-gray);
            color: var(--ega-white);
            padding: 8px 14px;
            text-decoration: none;
            display: inline-block;
            transition: background 0.1s, color 0.1s;
            text-transform: uppercase;
        }

        .btn-verb:hover {
            background: var(--ega-bright-blue);
            color: var(--ega-yellow);
            border-color: var(--ega-yellow);
        }

        .btn-verb:active {
            background: var(--ega-white);
            color: var(--ega-black);
        }

        .btn-verb .verb-action {
            color: var(--ega-bright-green);
        }

        /* Inventory Panel - Contact Cluster Override */
        .chaos-contact-cluster {
            position: fixed !important;
            top: auto !important;
            bottom: 52px !important;
            left: 8px !important;
            right: auto !important;
            background: var(--ega-dark-gray) !important;
            border: 3px solid var(--ega-light-gray) !important;
            padding: 6px !important;
            display: flex !important;
            flex-direction: row !important;
            gap: 4px !important;
            z-index: 100 !important;
            animation: none !important;
            transform: none !important;
            clip-path: none !important;
            border-radius: 0 !important;
        }

        .chaos-contact-item {
            background: var(--ega-blue) !important;
            border: 2px solid var(--ega-cyan) !important;
            padding: 4px 8px !important;
            animation: none !important;
            transform: none !important;
            clip-path: none !important;
            border-radius: 0 !important;
            float: none !important;
        }

        .chaos-contact-item:hover {
            background: var(--ega-bright-blue) !important;
            transform: none !important;
        }

        .chaos-contact-link {
            font-family: 'Press Start 2P', cursive !important;
            font-size: 0.45rem !important;
            color: var(--ega-white) !important;
            text-decoration: none !important;
            display: flex !important;
            align-items: center !important;
            gap: 4px !important;
        }

        .chaos-contact-link:hover {
            color: var(--ega-yellow) !important;
        }

        .chaos-contact-icon {
            color: var(--ega-bright-cyan) !important;
            font-size: 0.5rem !important;
        }

        .chaos-contact-text {
            color: var(--ega-white) !important;
        }

        /* Motion Toggle Override */
        .chaos-motion-toggle {
            position: fixed !important;
            top: auto !important;
            bottom: 52px !important;
            right: 8px !important;
            left: auto !important;
            background: var(--ega-dark-gray) !important;
            border: 3px solid var(--ega-light-gray) !important;
            padding: 6px 12px !important;
            z-index: 100 !important;
            animation: none !important;
            transform: none !important;
            clip-path: none !important;
            border-radius: 0 !important;
            cursor: pointer;
        }

        .chaos-motion-toggle:hover {
            background: var(--ega-bright-blue) !important;
            transform: none !important;
        }

        .chaos-motion-toggle-inner {
            display: flex !important;
            align-items: center !important;
            gap: 6px !important;
        }

        .chaos-motion-toggle-icon {
            font-size: 0.6rem !important;
            color: var(--ega-bright-green) !important;
        }

        .chaos-motion-toggle-text {
            font-family: 'Press Start 2P', cursive !important;
            font-size: 0.45rem !important;
            color: var(--ega-white) !important;
        }

        /* Click feedback */
        .click-prompt {
            position: fixed;
            font-family: 'Press Start 2P', cursive;
            font-size: 1rem;
            color: var(--ega-bright-green);
            pointer-events: none;
            z-index: 9999;
            animation: promptFade 0.6s ease-out forwards;
        }

        @keyframes promptFade {
            0% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(1.5); }
        }

        /* Responsive Design */

        /* Desktop 1200px+ */
        @media (min-width: 1200px) {
            .dialog-box {
                max-width: 640px;
                padding: 32px 40px;
            }
            .dialog-box h1 {
                font-size: 1.5rem;
            }
        }

        /* Tablet 768-1199px */
        @media (min-width: 768px) and (max-width: 1199px) {
            .dialog-box {
                max-width: 520px;
            }
            .dialog-box h1 {
                font-size: 1.2rem;
            }
            .chaos-contact-text {
                display: none !important;
            }
        }

        /* Mobile <768px */
        @media (max-width: 767px) {
            .status-bar {
                font-size: 0.4rem;
                padding: 3px 8px;
            }
            .dialog-box {
                width: 95%;
                padding: 16px 12px;
                margin-top: 20px;
            }
            .dialog-box h1 {
                font-size: 0.85rem;
            }
            .dialog-box .subtitle {
                font-size: 0.5rem;
                line-height: 1.8;
            }
            .btn-verb {
                font-size: 0.4rem;
                padding: 6px 10px;
            }
            .verb-buttons {
                gap: 4px;
            }
            .nav-link {
                font-size: 0.45rem !important;
                padding: 4px 8px !important;
            }
            .navbar-brand {
                font-size: 0.5rem;
            }
            .chaos-contact-cluster {
                bottom: 44px !important;
            }
            .chaos-motion-toggle {
                bottom: 44px !important;
            }
            .chaos-contact-text {
                display: none !important;
            }
            .chaos-contact-link {
                font-size: 0.4rem !important;
            }
        }

        /* Ensure minimum 8px for Press Start 2P */
        @media (max-width: 400px) {
            .dialog-box h1 {
                font-size: 0.7rem;
            }
            .dialog-box .subtitle {
                font-size: 0.5rem;
            }
            .btn-verb {
                font-size: 0.4rem;
            }
            .status-bar {
                font-size: 0.4rem;
            }
        }

        /* Touch target sizing */
        @media (pointer: coarse) {
            .btn-verb {
                min-height: 44px;
                min-width: 44px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
            }
            .nav-link {
                min-height: 44px;
                display: inline-flex !important;
                align-items: center !important;
            }
            .chaos-contact-item {
                min-height: 44px !important;
                min-width: 44px !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
            }
            .chaos-motion-toggle {
                min-height: 44px !important;
                min-width: 44px !important;
            }
        }

        /* Reduced motion preference */
        @media (prefers-reduced-motion: reduce) {
            .animated-bg {
                animation: none;
                transition: none;
            }
            .click-prompt {
                animation: none;
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Solid Background -->
    <div class="animated-bg"></div>

    <!-- Navigation - Adventure Verb Bar -->
    <nav class="navbar navbar-expand-lg fixed-top adventure-verb-bar">
        <div class="container">
            <a class="navbar-brand" href="#home">ANASTASIA SALTER</a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">Look: About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="books.html">Read: Books</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="research.html">Study: Research</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="elit.html">Play: E-lit</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="teaching.html">Talk: Teaching</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="CV.pdf" target="_blank">Take: CV</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="container-fluid p-0">
            <div class="row no-gutters align-items-center">
                <div class="col-12">
                    <div id="sunsetCanvas" class="sunset-container"></div>
                    <div class="hero-overlay">
                        <!-- Status Bar -->
                        <div class="status-bar">
                            <span class="status-bar-score">Score: 42 of 100</span>
                            <span class="status-bar-location">Royal Castle of UCF</span>
                        </div>

                        <!-- Dialog Box -->
                        <div class="dialog-box">
                            <h1>Anastasia Salter</h1>
                            <p class="subtitle">Professor of English<br>University of Central Florida</p>
                            <div class="verb-buttons">
                                <a href="books.html" class="btn-verb"><span class="verb-action">READ</span>&nbsp;&rarr; Books</a>
                                <a href="elit.html" class="btn-verb"><span class="verb-action">PLAY</span>&nbsp;&rarr; E-lit</a>
                                <a href="teaching.html" class="btn-verb"><span class="verb-action">TALK</span>&nbsp;&rarr; Teaching</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // ======================================
        // MOTION TOGGLE (inlined from chaos-effects.js)
        // ======================================
        (function() {
            const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            const stored = localStorage.getItem('motion-preference');
            let motionDisabled = stored !== null ? stored === 'disabled' : prefersReducedMotion;

            function applyMotion() {
                if (motionDisabled) {
                    document.body.classList.add('motion-disabled');
                } else {
                    document.body.classList.remove('motion-disabled');
                }
                // Update toggle UI
                const toggle = document.getElementById('motionToggle');
                if (toggle) {
                    const icon = toggle.querySelector('.chaos-motion-toggle-icon');
                    const text = toggle.querySelector('.chaos-motion-toggle-text');
                    if (motionDisabled) {
                        if (icon) icon.textContent = '▶';
                        if (text) text.textContent = 'PLAY';
                    } else {
                        if (icon) icon.textContent = '⏸';
                        if (text) text.textContent = 'PAUSE';
                    }
                }
            }

            // Apply initial state immediately
            applyMotion();

            // Bind click handler after DOM is ready (toggle element is below this script)
            document.addEventListener('DOMContentLoaded', function() {
                applyMotion(); // re-apply now that element exists
                const toggle = document.getElementById('motionToggle');
                if (toggle) {
                    toggle.addEventListener('click', function() {
                        motionDisabled = !motionDisabled;
                        localStorage.setItem('motion-preference', motionDisabled ? 'disabled' : 'enabled');
                        applyMotion();
                    });
                }
            });
        })();

        // ======================================
        // ADVENTURE CLICK FEEDBACK
        // ======================================
        document.addEventListener('click', function(e) {
            if (document.body.classList.contains('motion-disabled')) return;
            const prompt = document.createElement('div');
            prompt.className = 'click-prompt';
            prompt.textContent = '>';
            prompt.style.left = e.clientX + 'px';
            prompt.style.top = e.clientY + 'px';
            document.body.appendChild(prompt);
            setTimeout(function() { prompt.remove(); }, 600);
        });

        // ======================================
        // PIXEL ADVENTURE LANDSCAPE (p5.js)
        // ======================================
        let adventureSketch = function(p) {
            let pg; // offscreen buffer at 320x200
            let bufW = 320;
            let bufH = 200;
            let frameCount = 0;
            let twoFrame = 0; // toggles 0/1 every ~15 frames
            let birds = [];
            let clouds = [];
            let canvasW, canvasH;

            // EGA palette as RGB arrays
            const EGA = {
                black:       [0, 0, 0],
                blue:        [0, 0, 170],
                green:       [0, 170, 0],
                cyan:        [0, 170, 170],
                red:         [170, 0, 0],
                brown:       [170, 85, 0],
                lightGray:   [170, 170, 170],
                darkGray:    [85, 85, 85],
                brightBlue:  [85, 85, 255],
                brightGreen: [85, 255, 85],
                brightCyan:  [85, 255, 255],
                brightRed:   [255, 85, 85],
                magenta:     [255, 85, 255],
                yellow:      [255, 255, 85],
                white:       [255, 255, 255]
            };

            p.setup = function() {
                canvasW = p.windowWidth;
                canvasH = p.windowHeight;

                // Choose buffer size based on viewport
                if (canvasW < 768) {
                    bufW = 240;
                    bufH = 150;
                } else {
                    bufW = 320;
                    bufH = 200;
                }

                let canvas = p.createCanvas(canvasW, canvasH);
                canvas.parent('sunsetCanvas');
                p.noSmooth();

                pg = p.createGraphics(bufW, bufH);
                pg.noSmooth();
                pg.pixelDensity(1);

                // Initialize birds
                for (let i = 0; i < 4; i++) {
                    birds.push({
                        x: p.random(0, bufW),
                        y: p.random(10, 50),
                        speed: p.random(0.3, 0.7)
                    });
                }

                // Initialize clouds
                for (let i = 0; i < 5; i++) {
                    clouds.push({
                        x: p.random(-20, bufW + 20),
                        y: p.random(8, 45),
                        w: p.floor(p.random(20, 50)),
                        h: p.floor(p.random(6, 14)),
                        speed: p.random(0.05, 0.2)
                    });
                }
            };

            p.draw = function() {
                frameCount++;
                if (frameCount % 15 === 0) {
                    twoFrame = 1 - twoFrame;
                }

                pg.background(...EGA.black);
                pg.noStroke();

                // === SKY: chunky gradient bands ===
                let skyColors = [EGA.black, EGA.blue, EGA.blue, EGA.brightBlue, EGA.brightBlue, EGA.cyan];
                let bandH = Math.ceil(bufH * 0.55 / skyColors.length);
                for (let i = 0; i < skyColors.length; i++) {
                    pg.fill(...skyColors[i]);
                    pg.rect(0, i * bandH, bufW, bandH);
                }
                let skyBottom = skyColors.length * bandH;

                // === CLOUDS ===
                for (let c of clouds) {
                    c.x += c.speed;
                    if (c.x > bufW + 30) c.x = -c.w - 10;

                    pg.fill(...EGA.white);
                    pg.rect(Math.floor(c.x), c.y, c.w, c.h);
                    // Cloud shadow/depth
                    pg.fill(...EGA.lightGray);
                    pg.rect(Math.floor(c.x) + 2, c.y + c.h, c.w - 4, 3);
                }

                // === CASTLE at ~30% height ===
                let castleBase = Math.floor(bufH * 0.38);
                let castleX = Math.floor(bufW * 0.35);
                let castleW = Math.floor(bufW * 0.30);

                // Main wall
                pg.fill(...EGA.darkGray);
                pg.rect(castleX, castleBase, castleW, 30);

                // Turrets
                let turretW = 12;
                let turretH = 20;
                pg.fill(...EGA.lightGray);
                pg.rect(castleX - 4, castleBase - turretH, turretW, turretH);
                pg.rect(castleX + castleW - turretW + 4, castleBase - turretH, turretW, turretH);
                // Center tower (taller)
                pg.rect(castleX + castleW / 2 - 8, castleBase - turretH - 10, 16, turretH + 10);

                // Crenellations on turrets
                pg.fill(...EGA.darkGray);
                for (let t = 0; t < 3; t++) {
                    // Left turret
                    pg.rect(castleX - 4 + t * 5, castleBase - turretH - 4, 3, 4);
                    // Right turret
                    pg.rect(castleX + castleW - turretW + 4 + t * 5, castleBase - turretH - 4, 3, 4);
                }
                // Center tower crenellations
                for (let t = 0; t < 4; t++) {
                    pg.rect(castleX + castleW / 2 - 8 + t * 5, castleBase - turretH - 14, 3, 4);
                }

                // Castle door
                pg.fill(...EGA.brown);
                pg.rect(castleX + castleW / 2 - 4, castleBase + 18, 8, 12);

                // Castle windows
                pg.fill(...EGA.yellow);
                pg.rect(castleX + 8, castleBase + 8, 4, 4);
                pg.rect(castleX + castleW - 12, castleBase + 8, 4, 4);

                // Flag on center tower
                pg.fill(...EGA.brightRed);
                pg.rect(castleX + castleW / 2, castleBase - turretH - 22, 10, 6);
                pg.fill(...EGA.lightGray);
                pg.rect(castleX + castleW / 2 - 1, castleBase - turretH - 22, 1, 12);

                // === HILLS: stepped green rectangles ===
                let hillY = castleBase + 30;
                pg.fill(...EGA.green);
                pg.rect(0, hillY, bufW, 8);
                pg.fill(...EGA.brightGreen);
                pg.rect(0, hillY + 8, bufW, bufH - hillY - 8);

                // Background hill
                pg.fill(...EGA.green);
                pg.rect(0, hillY - 10, Math.floor(bufW * 0.25), 10);
                pg.rect(Math.floor(bufW * 0.7), hillY - 8, Math.floor(bufW * 0.3), 8);

                // Simple triangle trees
                let treePositions = [20, 55, 80, 240, 265, 290];
                for (let tx of treePositions) {
                    if (tx >= bufW) continue;
                    // Trunk
                    pg.fill(...EGA.brown);
                    pg.rect(tx, hillY + 4, 3, 10);
                    // Foliage (triangle approximated with rects)
                    pg.fill(...EGA.green);
                    pg.rect(tx - 3, hillY, 9, 4);
                    pg.rect(tx - 2, hillY - 4, 7, 4);
                    pg.rect(tx - 1, hillY - 7, 5, 3);
                }

                // === PATH: brown trapezoid from bottom toward castle ===
                pg.fill(...EGA.brown);
                // Simple path using rects narrowing toward castle
                let pathBottom = bufH;
                let pathTop = castleBase + 30;
                let pathSteps = 12;
                for (let i = 0; i < pathSteps; i++) {
                    let t = i / pathSteps;
                    let y = p.lerp(pathBottom, pathTop, t);
                    let w = p.lerp(60, 10, t);
                    let cx = p.lerp(bufW / 2, castleX + castleW / 2, t);
                    pg.rect(Math.floor(cx - w / 2), Math.floor(y), Math.floor(w), Math.ceil((pathBottom - pathTop) / pathSteps) + 1);
                }

                // === WATER: cyan area with shimmer ===
                let waterY = hillY + 30;
                let waterH = 18;
                if (waterY + waterH < bufH) {
                    pg.fill(...EGA.cyan);
                    pg.rect(Math.floor(bufW * 0.65), waterY, Math.floor(bufW * 0.30), waterH);
                    // Shimmer - alternating pixel pattern
                    pg.fill(...EGA.brightCyan);
                    for (let wx = Math.floor(bufW * 0.65); wx < Math.floor(bufW * 0.95); wx += 4) {
                        let wy = waterY + (twoFrame === 0 ? 2 : 5);
                        pg.rect(wx + twoFrame * 2, wy, 2, 1);
                        pg.rect(wx + (1 - twoFrame) * 2, wy + 8, 2, 1);
                    }
                }

                // === BIRDS: V-shapes drifting ===
                for (let bird of birds) {
                    bird.x += bird.speed;
                    if (bird.x > bufW + 20) {
                        bird.x = -20;
                        bird.y = p.random(10, 50);
                    }

                    pg.stroke(...EGA.black);
                    pg.strokeWeight(1);
                    let bx = Math.floor(bird.x);
                    let by = Math.floor(bird.y);
                    let wingOffset = twoFrame === 0 ? -2 : -3;
                    // V-shape bird
                    pg.line(bx - 3, by + wingOffset, bx, by);
                    pg.line(bx, by, bx + 3, by + wingOffset);
                    pg.noStroke();
                }

                // === IDLE CHARACTER: tiny pixel figure on path ===
                let charX = Math.floor(bufW / 2);
                let charY = bufH - 40;
                let weightShift = twoFrame === 0 ? 0 : 1;

                // Body
                pg.fill(...EGA.brightRed);
                pg.rect(charX - 2, charY - 8, 4, 6); // torso
                // Head
                pg.fill(...EGA.yellow);
                pg.rect(charX - 2, charY - 12, 4, 4); // head
                // Legs
                pg.fill(...EGA.blue);
                pg.rect(charX - 2 + weightShift, charY - 2, 2, 4); // left leg
                pg.rect(charX + weightShift, charY - 2, 2, 4); // right leg
                // Hat/crown
                pg.fill(...EGA.yellow);
                pg.rect(charX - 3, charY - 14, 6, 2);
                pg.rect(charX - 1, charY - 15, 2, 1);

                // === Scale up to fill viewport ===
                p.background(0);
                p.image(pg, 0, 0, canvasW, canvasH);
            };

            p.windowResized = function() {
                canvasW = p.windowWidth;
                canvasH = p.windowHeight;
                p.resizeCanvas(canvasW, canvasH);

                // Adjust buffer for mobile
                if (canvasW < 768) {
                    bufW = 240;
                    bufH = 150;
                } else {
                    bufW = 320;
                    bufH = 200;
                }
                pg = p.createGraphics(bufW, bufH);
                pg.noSmooth();
                pg.pixelDensity(1);
            };
        };

        let p5Instance = new p5(adventureSketch);

        // Check initial motion state
        if (document.body.classList.contains('motion-disabled')) {
            p5Instance.noLoop();
        }

        // Listen for motion toggle changes
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.attributeName === 'class') {
                    if (document.body.classList.contains('motion-disabled')) {
                        p5Instance.noLoop();
                    } else {
                        p5Instance.loop();
                    }
                }
            });
        });
        observer.observe(document.body, { attributes: true });
    </script>

    <!-- Motion Toggle Button -->
    <div class="chaos-motion-toggle" id="motionToggle">
        <div class="chaos-motion-toggle-inner">
            <span class="chaos-motion-toggle-icon">⏸</span>
            <span class="chaos-motion-toggle-text">PAUSE</span>
        </div>
    </div>

    <!-- Inventory Panel - Contact Cluster -->
    <div class="chaos-contact-cluster">
        <div class="chaos-contact-item contact-email">
            <a href="mailto:anastasia@ucf.edu" class="chaos-contact-link">
                <span class="chaos-contact-icon">@</span>
                <span class="chaos-contact-text">EMAIL</span>
            </a>
        </div>
        <div class="chaos-contact-item">
            <a href="https://bsky.app/profile/anasalter.bsky.social" class="chaos-contact-link" target="_blank" rel="noopener noreferrer">
                <span class="chaos-contact-icon"><i class="fas fa-cloud"></i></span>
                <span class="chaos-contact-text">BLUESKY</span>
            </a>
        </div>
        <div class="chaos-contact-item">
            <a href="https://www.instagram.com/anasalter/" class="chaos-contact-link" target="_blank" rel="noopener noreferrer">
                <span class="chaos-contact-icon"><i class="fab fa-instagram"></i></span>
                <span class="chaos-contact-text">INSTA</span>
            </a>
        </div>
        <div class="chaos-contact-item">
            <a href="CV.pdf" class="chaos-contact-link" target="_blank">
                <span class="chaos-contact-icon"><i class="fas fa-file-pdf"></i></span>
                <span class="chaos-contact-text">CV</span>
            </a>
        </div>
    </div>
</body>
</html>
